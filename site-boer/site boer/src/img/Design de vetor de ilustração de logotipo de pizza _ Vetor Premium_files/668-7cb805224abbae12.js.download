!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="d3b5afc0-0990-4b3d-b091-0d74bc0c79d5",e._sentryDebugIdIdentifier="sentry-dbid-d3b5afc0-0990-4b3d-b091-0d74bc0c79d5")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[668],{77119:function(e,t,n){n.d(t,{Nb:function(){return s},YS:function(){return i},aD:function(){return l},tw:function(){return c},xr:function(){return r}}),n(66285),n(48603);var a=n(22319),l="$flex $justify-center $items-center $rounded-lg $w-35 $h-35 $shadow-[0_0_60px_rgba(34,_34,_34,_0.25)] $bg-surface-0 hover:$bg-surface-3 $text-black",r="$text-white",s="$rounded-[8px] $shadow-[0_0_60px_rgba(34,_34,_34,_0.25)] $bg-surface-0 $z-[2] $overflow-hidden $flex $flex-col",c="_m87f4j0 $bg-transparent hover:$bg-surface-2 $px-[20px] $py-[10px] $cursor-pointer $sprinkles-text-xs $text-surface-foreground-2 $flex $gap-[10px] $items-center",i=(0,a.c)({defaultClassName:"_1rgts1f1 $absolute $top-10 $right-10 $flex $flex-col $gap-10 $transition-all",variantClassNames:{calculating:{true:"$opacity-0",false:"_1rgts1f0 $opacity-0"}},defaultVariants:{calculating:!1},compoundVariants:[]})},77169:function(e,t,n){n.d(t,{Bx:function(){return r},LI:function(){return l},PS:function(){return c},pt:function(){return s},tu:function(){return i}}),n(94176);var a=n(22319),l=(0,a.c)({defaultClassName:"_1nit3sv0 $flex $flex-col sm:$flex-row $justify-center $items-center $gap-10 $flex-1 sm:$flex-none $z-0 $border-0 sm:$border $rounded $border-grayHeather $min-w-40 $min-h-40 $transition-colors $bg-transparent hover:$bg-grayHeather/10",variantClassNames:{withLabel:{true:"$px-0 sm:$px-20"}},defaultVariants:{withLabel:!1},compoundVariants:[]}),r="$flex $gap-10",s="$flex $gap-10 $flex-col",c=(0,a.c)({defaultClassName:"_1nit3sv2 $whitespace-normal $font-normal sm:$font-semibold $sprinkles-text-2xs sm:$sprinkles-text-sm $text-surface-foreground-0",variantClassNames:{alwaysVisible:{true:"$block",false:"$block sm:$hidden"}},defaultVariants:{alwaysVisible:!1},compoundVariants:[]}),i="$shadow-[0_0_60px_rgba(34,_34,_34,_0.25)] $rounded-md $overflow-hidden $w-300 $max-w-[100vw] $p-20 $flex $flex-col $gap-10 $bg-surface-0"},23467:function(e,t,n){n.d(t,{L:function(){return B}});var a=n(97458),l=n(93611),r=n(93962),s=n.n(r),c=n(71163);n(34167);var i=n(22319),o="_c4jkjm2 _c4jkjm0 $flex $flex-1 $flex-col $w-full $border $border-r-0 $border-grayCadet $p-10",d="$flex",u="_c4jkjm3 $overflow-y-auto $mb-20",h=(0,i.c)({defaultClassName:"_c4jkjm5 _c4jkjm4 $relative $w-full $flex $justify-between $items-center $pr-15 $border-b-xs $border-grayCadet/50 $font-semibold",variantClassNames:{active:{true:"$text-blueFreepik",false:"$text-surface-foreground-2"}},defaultVariants:{active:!1},compoundVariants:[]}),m=n(52983),f=n(50760);let x=()=>(0,m.useContext)(f.U);var p=n(12289),v=n(93432);let $=()=>{let e=Array.from({length:5},(e,t)=>t);return(0,a.jsx)("div",{className:"$mb-20 $overflow-y-auto",children:e.map(e=>(0,a.jsx)("div",{className:h(),children:(0,a.jsx)(v.O.Rect,{className:"$h-20"})},e))})},g=()=>{let{t:e}=(0,c.$G)("common");return(0,a.jsx)("div",{className:u,children:(0,a.jsx)("p",{children:e("noCollectionsAvailable")})})};var w=n(7616),b=n(17989),j=n(32215),C=n(50273),y=n(48294),k=n(83598);let N=e=>{let{collections:t,isSelected:n,onSelect:l}=e,{t:r}=(0,c.$G)("common");return t&&0!==t.length?(0,a.jsx)("div",{className:u,children:t.map(e=>{let t=e.id&&(null==n?void 0:n.includes(e.id))||!1;return(0,a.jsxs)("button",{className:h({active:t}),onClick:()=>{l(e)},children:[(0,a.jsx)("span",{children:e.name}),t&&(0,a.jsx)(C.J,{as:y.Z}),(0,a.jsxs)("span",{className:"_c4jkjm8 $absolute $right-15 $text-grayHeather $sprinkles-text-sm $flex $items-center $gap-10 $bg-surface-0 $opacity-0",children:[t?r("remove"):r("select"),(0,a.jsx)(C.J,{as:t?k.Z:y.Z})]})]},e.id)})}):(0,a.jsx)(g,{})},_=e=>{let{userCollectionsResult:t}=e,n=(0,w.b9)(b.HQ),l=(0,w.Dv)(b.GD),{data:r}=t,s=r.filter(e=>"owned"===e.ownership),{handleCollectionSelection:c,collectionsSelected:i}=x();return(0,m.useEffect)(()=>{""===l&&n(t)},[l,n,t]),(0,a.jsx)(N,{collections:s.map(j.V),onSelect:c,isSelected:i.map(e=>e.id)})},S=e=>{let{id:t}=e,n=(0,p.l)({page:1,resourceId:t});return n.isError?(0,a.jsx)(g,{}):n.isPending?(0,a.jsx)($,{}):n.isSuccess?(0,a.jsx)(_,{userCollectionsResult:n.data}):(0,a.jsx)($,{})},L=e=>{let{onCreate:t}=e,[n,r]=(0,m.useState)(""),{t:s}=(0,c.$G)("detailCommon");return(0,a.jsxs)("div",{className:d,children:[(0,a.jsx)("input",{type:"text",className:o,placeholder:s("createNewCollection"),value:n,onChange:e=>{r(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&(t(n),r(""))}}),(0,a.jsx)(l.f5,{color:"blue",radius:"none",onClick:()=>{t(n),r("")},children:(0,a.jsx)("span",{className:"$leading-tight",children:s("addCollection")})})]})};var M=n(52404),V=n(34606);let Z=()=>{let{openToast:e}=(0,M.x_)(),{t}=(0,c.$G)("collections"),n=(0,p.g)();return{handleCreate:(0,m.useCallback)(async a=>{0!==a.length&&((await (0,V.B)({name:a,description:"",type:"private"})).success?e({type:"success",message:t("collectionCreatedSuccessfully")}):e(),n())},[n,e,t])}};var I=n(9347),T=n(94669),P=n(92521);let H=e=>{let{placeholder:t,onSearch:n}=e;return(0,a.jsxs)("div",{className:(0,P.m)("$mb-20",d),children:[(0,a.jsx)("input",{type:"text",className:o,placeholder:t,onChange:e=>{n(e.target.value)}}),(0,a.jsx)(l.f5,{color:"blue",radius:"none",children:(0,a.jsx)(C.J,{as:T.Z})})]})},B=e=>{let{type:t,id:n,preview:r}=e,{t:i}=(0,c.$G)(["detailCommon","common"]),{collections:o}=(0,I.h)(),{isDirty:d,handleSaveChanges:u,handleSearch:h,isSearchByApi:m}=x(),{handleCreate:f}=Z(),p=o.length>=8||m;return(0,a.jsxs)("div",{className:"$flex $bg-surface-0",children:[(0,a.jsx)("div",{className:"$relative $hidden md:$flex $justify-center $items-center $w-300",children:"icon"!==t?(0,a.jsx)(s(),{src:r,className:"$object-cover",alt:"preview",fill:!0}):(0,a.jsx)(s(),{src:r,alt:"preview",width:128,height:128})}),(0,a.jsxs)("div",{className:"_c4jkjm1 _c4jkjm0 $flex $flex-1 $flex-col $justify-between $p-25 $pt-30 $leading-relaxed $text-surface-foreground-2",children:[(0,a.jsx)("p",{className:"$sprinkles-text-xl $font-semibold $mb-15",children:i("detailCommon:addToCollection")}),(0,a.jsxs)("div",{className:"_c4jkjm0 $flex $flex-1 $flex-col",children:[p&&(0,a.jsx)(H,{placeholder:i("common:search"),onSearch:h}),(0,a.jsx)(S,{id:n,preview:r,type:t})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(L,{onCreate:f}),(0,a.jsx)(l.gg,{color:"blue",radius:"xs",block:!0,onClick:u,disabled:!d,className:"$mt-20",children:i("detailCommon:saveChanges")})]})]})]})}},50760:function(e,t,n){n.d(t,{U:function(){return a}});let a=(0,n(52983).createContext)({})},35080:function(e,t,n){n.d(t,{u:function(){return b}});var a=n(97458),l=n(52983),r=n(52404),s=n(7616),c=n(71163),i=n(49658);let o=()=>(0,l.useCallback)(e=>{let{collectionId:t,collectionName:n,fileId:a,location:l}=e;(0,i.sendGTMEvent)({collection_id:t,collection_name:n,event_name:"add_to_collection",event:"ga4event",file_id:a,location:l})},[]);var d=n(12289),u=n(86686);let h=async e=>{let{id:t,collectionId:n,resourceType:a}=e;return await (0,u.c)("/api/user/resources/".concat(t,"/collections"),"DELETE",{collectionId:n,resourceType:a})},m=async e=>{let{id:t,collectionId:n,resourceType:a}=e;return await (0,u.c)("/api/user/resources/".concat(t,"/collections"),"POST",{collectionId:n,resourceType:a})};var f=n(84926),x=n(32215),p=n(9347);let v=e=>{let{type:t,id:n,location:a}=e,[i,u]=(0,l.useState)([]),[v,$]=(0,l.useState)([]),[g,w]=(0,l.useState)([]),{collections:b}=(0,p.h)(),j=(0,s.b9)((0,f.X)({type:t,id:n})),C=(0,d.g)(),{openToast:y}=(0,r.x_)(),{t:k}=(0,c.$G)("collections"),N=o(),_=(0,l.useMemo)(()=>(null==b?void 0:b.length)>0?b.filter(e=>e.hasResourceInCollection).map(x.V):[],[b]);(0,l.useEffect)(()=>{(null==b?void 0:b.length)>0&&w(_)},[b,_]);let S=i.length>0||v.length>0,L=(0,l.useCallback)(async()=>{if(0===i.length&&0===v.length)return;let e=[];i.length>0&&e.push(m({id:n,collectionId:i.map(e=>e.id),resourceType:t})),v.length>0&&e.push(h({id:n,collectionId:v.map(e=>e.id),resourceType:t}));try{(await Promise.all(e)).every(e=>null==e?void 0:e.success)?(i.forEach(e=>{N({fileId:n,collectionId:e.id,collectionName:e.name,location:a})}),u([]),$([]),y({type:"success",message:k("changesSavedSuccessfully")}),j((null==g?void 0:g.length)===0)):y(),C()}catch(e){y()}},[null==g?void 0:g.length,i,v,n,a,C,N,j,y,k,t]),M=e=>{let{array:t,collection:n}=e;return t.map(e=>e.id).includes(n.id)?t.filter(e=>e.id!==n.id):[...t,n]},V=(0,l.useCallback)(async e=>{w(t=>M({array:t,collection:e}))},[]);return{isDirty:S,collectionsSelected:g,handleCollectionSelection:(0,l.useCallback)(async e=>{V(e),b.some(t=>t.id===e.id&&t.hasResourceInCollection)?$(t=>M({array:t,collection:e})):u(t=>M({array:t,collection:e}))},[b,V]),handleSaveChanges:L}};var $=n(17989);let g=()=>{let{collections:e,nextPage:t}=(0,p.h)(),[n,a]=(0,l.useState)([]),r=(0,s.b9)($.GD),c=(0,l.useRef)();(0,l.useEffect)(()=>{(null==e?void 0:e.length)>0&&a(e.map(x.V))},[e,t]);let i=null!==t,o=t=>{a((null==e?void 0:e.filter(e=>e.name.toLowerCase().includes(t.toLowerCase()))).map(x.V))},d=async e=>{c.current&&clearTimeout(c.current),c.current=setTimeout(async()=>{r(e)},350)};return{isSearchByApi:i,searchCollections:n,handleSearch:e=>{i?d(e):o(e)}}};var w=n(50760);let b=e=>{let{children:t,id:n,type:r,location:s}=e,{collectionsSelected:c,handleCollectionSelection:i,handleSaveChanges:o,isDirty:d}=v({type:r,id:n,location:s}),{searchCollections:u,isSearchByApi:h,handleSearch:m}=g(),f=(0,l.useMemo)(()=>({collectionsSelected:c,searchCollections:u,isSearchByApi:h,isDirty:d,handleCollectionSelection:i,handleSearch:m,handleSaveChanges:o}),[c,i,o,m,d,h,u]);return(0,a.jsx)(w.U.Provider,{value:f,children:t})}},9347:function(e,t,n){n.d(t,{h:function(){return r}});var a=n(7616),l=n(17989);let r=()=>{let{data:e,meta:{pagination:{nextPage:t}}}=(0,a.Dv)(l.HQ);return{collections:e,nextPage:t}}},32215:function(e,t,n){n.d(t,{V:function(){return a}});let a=e=>{var t;return{id:e.id,name:e.name,author:(null===(t=e.author)||void 0===t?void 0:t.name)||void 0,hasResourceInCollection:e.hasResourceInCollection}}},18873:function(e,t,n){n.r(t),n.d(t,{AddToCollection:function(){return w}});var a=n(97458),l=n(98015),r=n(99041),s=n(1187),c=n(66287),i=n(88825),o=n(50273),d=n(66497),u=n(9424),h=n(63457),m=n(71163),f=n(77169),x=n(77119);let p=e=>{let{isCollapsed:t,added:n,onClick:l,mode:r,tooltipProps:p={side:"top"},buttonClassName:v,labelClassName:$,showLabel:g=!0}=e,{t:w}=(0,m.$G)("detailCommon"),b=(0,c.a)("lg"),j=(0,i.nD)(),C=w(n?"saved":"addToCollection"),y=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.T,{children:C}),(0,a.jsx)(o.J,{as:n?u.Z:h.Z,size:"base",color:n?"blueFreepik":void 0})]}),k=(0,a.jsxs)("button",{className:t?x.tw:x.aD,onClick:l,"data-cy":"add-to-collection-thumbnail",children:[y,t&&(0,a.jsx)("span",{children:C})]});return("large"===r&&(k=(0,a.jsxs)("button",{className:null!=v?v:f.LI(),onClick:l,children:[y,g&&(0,a.jsx)("span",{className:null!=$?$:f.PS(),children:C})]})),!b||t)?k:(0,a.jsx)(s.u,{...p,trigger:k,triggerAsChild:!0,hideOnLeaveHover:!0,container:j.current,children:C})};var v=n(23467),$=n(35080),g=n(78060);let w=e=>{let{type:t,id:n,preview:s,mode:c,location:i,tooltipProps:o,buttonClassName:d,labelClassName:u,showLabel:h=!0,renderTrigger:m}=e,{added:f,onClick:x,showModal:w,handleOpenChange:b}=(0,g.r)({id:n,type:t,location:i}),j=(0,r.U)().isCollapsed;return(0,a.jsxs)(a.Fragment,{children:[m?m({isAdded:f,onClick:x}):(0,a.jsx)(p,{isCollapsed:j,onClick:x,added:f,mode:null!=c?c:"normal",tooltipProps:o,buttonClassName:d,showLabel:h,labelClassName:u}),(0,a.jsx)(l.u,{open:w,onOpenChange:b,thumbnail:!0,children:(0,a.jsx)($.u,{id:n,type:t,location:i,children:(0,a.jsx)(v.L,{type:t,id:n,preview:s})})})]})}},78060:function(e,t,n){n.d(t,{r:function(){return x}});var a=n(96005),l=n(42011),r=n(52404),s=n(7616),c=n(34529),i=n(71163),o=n(52983),d=n(49658);let u=()=>(0,o.useCallback)(e=>{let{location:t,fileId:n}=e;(0,d.sendGTMEvent)({event:"ga4event",event_name:"collect",location:t,file_id:n})},[]);var h=n(12289),m=n(84926),f=n(17989);let x=e=>{let{id:t,type:n,location:d}=e,{t:x}=(0,i.$G)("error"),p=(0,s.Dv)((0,m.X)({id:t,type:n})),v=(0,c.oC)(f.GD),[$,g]=(0,o.useState)(!1),w=(0,l.d)(),{loginUrl:b,setLoginCookies:j}=(0,a.J)(),{openToast:C}=(0,r.x_)(),y=(0,h.g)(),k=u();return{added:p,showModal:$,setShowModal:g,onClick:()=>{if(!w){j(),window.location.href=b;return}y(),g(!0),k({location:d,fileId:t})},handleError:e=>{console.error(e),C({type:"danger",message:x("unknown")}),g(!1)},handleOpenChange:()=>{v(),g(!1)}}}},83015:function(e,t,n){n.d(t,{f:function(){return f}});var a=n(97458),l=n(1187),r=n(66287),s=n(88825),c=n(97374),i=n(50273),o=n(66497),d=n(76301),u=n(71163),h=n(36491),m=n(92719);let f=e=>{let{id:t,type:n,buttonClassName:c,labelClassName:i,showTooltip:o=!0,trigger:d}=e,h=(0,r.a)("lg"),f=(0,s.nD)(),{t:p}=(0,u.$G)("detailCommon");return(0,a.jsx)(m.g,{id:t,type:n,children:(0,a.jsx)(l.u,{align:"end",container:f.current,trigger:(0,a.jsx)(x,{trigger:d,buttonClassName:c,labelClassName:i}),showTooltip:h&&o,children:p("reportForm.title")})})},x=e=>{let{trigger:t,buttonClassName:n,labelClassName:l}=e,{t:r}=(0,u.$G)("detailCommon"),{handleOpen:s}=(0,h.g)();return t?(0,a.jsx)(c.fC,{onClick:s,children:t}):(0,a.jsxs)("button",{className:n,onClick:s,children:[(0,a.jsx)(o.T,{children:r("reportForm.title")}),(0,a.jsx)(i.J,{as:d.Z,size:"base"}),(0,a.jsx)("span",{className:l,"data-testid":"button",children:r("reportForm.title")})]})}},82918:function(e,t,n){n.d(t,{y:function(){return a}});let a=(0,n(52983).createContext)({})},92719:function(e,t,n){n.d(t,{g:function(){return h}});var a=n(97458),l=n(16830),r=n.n(l),s=n(52983),c=n(25136),i=n(63989),o=n(82918);let d=r()(()=>n.e(7712).then(n.bind(n,57712)).then(e=>e.ModalReport),{loadableGenerated:{webpack:()=>[57712]}}),u={interactionType:"onload"},h=e=>{let{id:t,type:n,children:l}=e,[r,h]=(0,s.useState)(!1),[m,f]=(0,s.useState)(!1),x=(0,c.X)(),p=(0,i.I)(),v=(0,s.useCallback)(()=>{f(!0),h(!0),x(u)},[x]),$=(0,s.useCallback)(()=>{p(!1),f(!1)},[p]),g=(0,s.useMemo)(()=>({id:t,type:n,handleOpen:v}),[t,n,v]);return(0,a.jsxs)(o.y.Provider,{value:g,children:[l,r&&(0,a.jsx)(d,{isOpen:m,onFinish:$})]})}},87613:function(e,t,n){n.d(t,{S:function(){return f}});var a=n(97458),l=n(93611),r=n(50273),s=n(52404),c=n(48294),i=n(44842),o=e=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-49 141 512 512",width:16,height:16,"aria-hidden":!0,...e,children:[(0,a.jsx)("path",{d:"M136.441 467.579c-9.763-9.763-9.763-25.593 0-35.355l106.066-106.067c9.764-9.764 25.592-9.764 35.355 0s9.763 25.593 0 35.355L171.796 467.579c-10.133 10.133-26.189 9.166-35.355 0"}),(0,a.jsx)("path",{d:"m55.116 633.757-84.853-84.854c-25.073-25.073-25.667-66.257 0-91.924L83.408 343.834c9.764-9.764 25.592-9.764 35.355 0s9.763 25.592 0 35.355L5.619 492.335c-5.667 5.667-5.573 15.639 0 21.212l84.853 84.854c5.74 5.74 15.213 6 21.213 0l113.144-113.144c9.764-9.762 25.594-9.763 35.355 0 9.763 9.764 9.763 25.593 0 35.355L147.04 633.757c-22.813 22.812-64.226 27.698-91.924 0M295.54 449.901c-9.763-9.763-9.763-25.593 0-35.355l112.86-112.86c5.848-5.849 5.849-15.364 0-21.213l-84.854-84.854c-5.848-5.848-15.364-5.848-21.214.001L189.474 308.479c-9.764 9.764-25.592 9.764-35.355 0s-9.763-25.593 0-35.355l112.86-112.86c25.345-25.341 66.581-25.343 91.924 0l84.854 84.854c25.343 25.343 25.343 66.579.001 91.923l-112.862 112.86c-9.523 9.522-25.336 10.02-35.356 0"})]}),d=n(78364),u=n(71163),h=n(52983);n(23112),n(20326);var m=(0,n(22319).c)({defaultClassName:"_yjq80u0 $absolute $w-full $h-full $rounded-lg $items-center $justify-center $transition-all $flex $gap-5 $sprinkles-text-sm $text-white $bg-greenFlaticon",variantClassNames:{active:{false:"$opacity-0 $-z-1",true:"$opacity-100 $z-2"}},defaultVariants:{active:!1},compoundVariants:[]});let f=e=>{let{url:t}=e,{t:n}=(0,u.$G)(["common","error"]),[f,x]=(0,h.useState)(!1),{openToast:p}=(0,s.x_)();return(0,a.jsxs)("div",{className:(0,d.W)("$flex $relative"),children:[(0,a.jsxs)("div",{className:m({active:f}),children:[(0,a.jsx)(r.J,{as:c.Z,size:"sm",className:"$text-white"}),n("common:copiedsuccessfully")]}),(0,a.jsxs)("div",{className:"$border $border-grayMystic $rounded-lg $w-full $flex $items-center $gap-10 $pl-10",children:[(0,a.jsx)(r.J,{as:o,className:"$text-grayCadet"}),(0,a.jsx)("span",{className:"$flex-1 $text-grayCadet $text-ellipsis $whitespace-nowrap $overflow-hidden $font-semibold $sprinkles-text-sm",children:t}),(0,a.jsxs)(l.gg,{onClick:()=>{try{navigator.clipboard.writeText(t).then(()=>{x(!0),setTimeout(()=>x(!1),2e3)}).catch(()=>{x(!1),p({type:"danger",message:n("error:copyError")})})}catch(e){p({type:"danger",message:n("error:unknown")})}},color:"gray",size:"sm",className:"$flex $gap-10",children:[(0,a.jsx)(r.J,{as:i.Z,size:"base"}),(0,a.jsx)("span",{className:"_yjq80u4 $text-grayHoki $block sm:$hidden lg:$inline-block $sprinkles-text-sm $font-normal lg:$font-semibold",children:n("common:copy")})]})]})]})}},88239:function(e,t,n){n.d(t,{C:function(){return C}});var a=n(97458),l=n(1187),r=n(66287),s=n(77575),c=n(88825),i=n(19974),o=n(93611),d=n(50273),u=n(66497),h=n(76825),m=n(71163),f=n(87613),x=n(77169),p=n(42580),v=n(71409),$=n(52983);let g=e=>{let{url:t,title:n,summary:a,source:l}=e,{domain:r}=(0,v.Vx)();return(0,$.useCallback)(()=>{let e=new URLSearchParams({url:"".concat(r).concat(t),title:n});a&&e.append("summary",a),l&&e.append("source",l);let s=e.toString(),c=Math.floor(((screen.availWidth||1024)-800)/2),i=Math.floor(((screen.availHeight||700)-500)/2);window.open("".concat("https://www.linkedin.com/sharing/share-offsite","?").concat(s),"social","width=".concat(800,",height=").concat(500,",left=").concat(c,",top=").concat(i,",location=0,menubar=0,toolbar=0,status=0,scrollbars=1,resizable=1"))},[r,t,n,a,l])};var w=n(35292);let b=e=>{let{url:t,title:n,subreddit:a}=e,{domain:l}=(0,v.Vx)();return(0,$.useCallback)(()=>{let e=new URLSearchParams({url:"".concat(l).concat(t),title:n});a&&e.append("sr",a);let r=e.toString(),s=Math.floor(((screen.availWidth||1024)-800)/2),c=Math.floor(((screen.availHeight||700)-500)/2);window.open("".concat("https://www.reddit.com/submit","?").concat(r),"social","width=".concat(800,",height=").concat(500,",left=").concat(s,",top=").concat(c,",location=0,menubar=0,toolbar=0,status=0,scrollbars=1,resizable=1"))},[l,t,n,a])};var j=n(44890);let C=e=>{let{description:t,thumbnail:n,url:l,showPinterest:r,showReddit:d,showLinkedin:u,onShare:h,open:m,handleOpenChange:v,showMainButton:$=!0,tooltipProps:C,popoverContentProps:N={align:"end",side:"bottom",sideOffset:12},showPopoverArrow:_=!0,buttonClassName:S,showLabel:L=!0,labelClassName:M,parentContainer:V,trigger:Z}=e,I=(0,s.to)({withParams:!0}),T=(0,w.B)({url:l,media:n,description:t}),P=(0,p.h)({url:l,description:t}),H=(0,j.s)({url:l,description:t}),B=b({url:l,title:t}),z=g({url:l,title:t}),D=(0,c.nD)(),E=null!=V?V:null==D?void 0:D.current;return Z=null!=Z?Z:(0,a.jsx)("div",{children:(0,a.jsx)(y,{showMainButton:$,tooltipProps:C,buttonClassName:S,showLabel:L,labelClassName:M})}),(0,a.jsxs)(i.fC,{open:m,onOpenChange:e=>null==v?void 0:v(e),children:[(0,a.jsx)(i.xz,{asChild:!0,children:Z}),(0,a.jsx)(i.h_,{container:E,children:(0,a.jsxs)(i.VY,{...N,children:[(0,a.jsx)("div",{className:x.tu,children:(0,a.jsxs)("div",{className:x.pt,children:[(0,a.jsx)(f.S,{url:I}),(0,a.jsxs)("div",{className:x.Bx,children:[r&&(0,a.jsx)(o.Z0,{onClick:()=>{h&&h("pinterest"),T()},icon:"Pinterest",className:"$flex-1 ".concat(k)}),(0,a.jsx)(o.Z0,{onClick:()=>{h&&h("facebook"),P()},icon:"Facebook",className:"$flex-1 ".concat(k)}),(0,a.jsx)(o.Z0,{onClick:()=>{h&&h("twitter"),H()},icon:"Twitter",className:"$flex-1 ".concat(k)}),d&&(0,a.jsx)(o.Z0,{onClick:()=>{h&&h("reddit"),B()},icon:"Reddit",className:"$flex-1 ".concat(k)}),u&&(0,a.jsx)(o.Z0,{onClick:()=>{h&&h("linkedin"),z()},icon:"Linkedin",className:"$flex-1 ".concat(k)})]})]})}),_&&(0,a.jsx)(i.Eh,{className:"$fill-white"})]})})]})},y=e=>{let{showMainButton:t,tooltipProps:n,buttonClassName:s,showLabel:c,labelClassName:i}=e,o=(0,r.a)("lg"),{t:f}=(0,m.$G)("common");return o&&t?(0,a.jsx)(l.u,{...n,zIndex:3,trigger:(0,a.jsxs)("button",{className:null!=s?s:x.LI(),children:[(0,a.jsx)(u.T,{children:f("share")}),(0,a.jsx)(d.J,{as:h.Z,size:"base"}),c&&(0,a.jsx)("span",{className:null!=i?i:x.PS(),children:f("share")})]}),children:f("share")}):t?(0,a.jsxs)("button",{className:null!=s?s:x.LI(),children:[(0,a.jsx)(u.T,{children:f("share")}),(0,a.jsx)(d.J,{as:h.Z,size:"base"}),c&&(0,a.jsx)("span",{className:null!=i?i:x.PS(),children:f("share")})]}):(0,a.jsx)(u.T,{children:f("share")})},k="$border-md"},80668:function(e,t,n){n.d(t,{Sc:function(){return a.S},mB:function(){return h},hR:function(){return m.h},B2:function(){return f.B},s8:function(){return x.s}});var a=n(87613),l=n(97458),r=n(52983),s=n(13281),c=n(18873),i=n(83015),o=n(69614),d=n(77169),u=n(88239);let h=(0,r.memo)(e=>{let{description:t,thumbnail:n,url:a,collection:r,viewSimilar:h=!0,type:m,id:f,width:x=0,height:p=0,showPinterest:v=!1,showReddit:$=!1,showLinkedin:g=!1,onShare:w}=e;return(0,l.jsxs)(l.Fragment,{children:[h&&s.ih.includes(m)&&(0,l.jsx)(o.B,{buttonClassName:d.LI({withLabel:!0}),labelClassName:d.PS({alwaysVisible:!0}),id:f,name:t,preview:{width:x,height:p,url:n},type:m,showLabel:!0}),r&&(0,l.jsx)(c.AddToCollection,{className:d.LI(),label:d.PS(),type:m,id:f,preview:n,mode:"large",location:"resource_detail"}),(0,l.jsx)(u.C,{description:t,thumbnail:n,url:a,showPinterest:v,showReddit:$,showLinkedin:g,onShare:w}),(0,l.jsx)(i.f,{id:f,type:m,buttonClassName:d.LI(),labelClassName:d.PS()})]})});var m=n(42580),f=n(35292),x=n(44890)},42580:function(e,t,n){n.d(t,{h:function(){return s}});var a=n(71409),l=n(52983);let r="https://www.facebook.com/dialog/share?app_id=".concat(0x6affaacf4edb,"&display=popup&"),s=e=>{let{url:t,description:n}=e,{domain:s}=(0,a.Vx)();return(0,l.useCallback)(()=>{let e=new URLSearchParams({href:"".concat(s).concat(t),quote:n}).toString(),a=Math.floor(((screen.availWidth||1024)-800)/2),l=Math.floor(((screen.availHeight||700)-500)/2);window.open("".concat(r).concat(e),"social","width=".concat(800,",height=").concat(500,",left=").concat(a,",top=").concat(l,",location=0,menubar=0,toolbar=0,status=0,scrollbars=1,resizable=1"))},[s,t,n])}},35292:function(e,t,n){n.d(t,{B:function(){return c}});var a=n(71409),l=n(52983);let r="https://pinterest.com/pin/create/button/",s=e=>{let t=e.replace(/\{([^{}]*)}/g,""),n=t.match(/[^=&?]+=[^=&?]+/g);return(null==n?void 0:n.length)?"".concat(r,"?").concat(n.join("&")):t},c=e=>{let{url:t,media:n,description:c}=e,{domain:i}=(0,a.Vx)();return(0,l.useCallback)(()=>{if(!n)return;let e=new URLSearchParams({media:encodeURIComponent(n),url:encodeURIComponent("".concat(i).concat(t)).replace("&","%26"),description:c.replace("|","%7C")}).toString(),a=Math.floor(((screen.availWidth||1024)-800)/2),l=Math.floor(((screen.availHeight||700)-500)/2);window.open(s("".concat(r,"?").concat(e)),"social","width=".concat(800,",height=").concat(500,",left=").concat(a,",top=").concat(l,",location=0,menubar=0,toolbar=0,status=0,scrollbars=1,resizable=1"))},[n,i,t,c])}},44890:function(e,t,n){n.d(t,{s:function(){return r}});var a=n(71409),l=n(52983);let r=e=>{let{url:t}=e,{domain:n}=(0,a.Vx)();return(0,l.useCallback)(()=>{let e=new URLSearchParams({url:"".concat(n).concat(t)}).toString(),a=Math.floor(((screen.availWidth||1024)-800)/2),l=Math.floor(((screen.availHeight||700)-500)/2);window.open("".concat("https://twitter.com/intent/tweet","?").concat(e),"social","width=".concat(800,",height=").concat(500,",left=").concat(a,",top=").concat(l,",location=0,menubar=0,toolbar=0,status=0,scrollbars=1,resizable=1"))},[n,t])}},43122:function(e,t,n){n.d(t,{B:function(){return m}});var a=n(97458),l=n(1187),r=n(66287),s=n(88825),c=n(97374),i=n(50273),o=n(66497),d=n(94182),u=n(71163),h=n(7036);let m=e=>{let{id:t,name:n,type:m,buttonClassName:f,labelClassName:x,preview:p,inThumbnail:v=!1,showLabel:$=!1,tooltipProps:g={},trigger:w}=e,{t:b}=(0,u.$G)("detailCommon"),j=(0,s.nD)(),C=(0,r.a)("lgMax"),y=(0,h.E)({id:t,name:n,type:m,preview:p,inThumbnail:v}),k=b("viewSimilar");if(w)return(0,a.jsx)(c.fC,{onClick:y,children:w});let N=(0,a.jsxs)("button",{"data-cy":"view-similar-button",className:f,onClick:y,children:[(0,a.jsx)(o.T,{children:k}),(0,a.jsx)(i.J,{as:d.Z,size:"base"}),$&&(0,a.jsx)("span",{className:x,children:k})]});return C||$?N:(0,a.jsx)(l.u,{...g,trigger:N,triggerAsChild:!0,hideOnLeaveHover:!0,container:j.current,children:k})}},69614:function(e,t,n){n.d(t,{B:function(){return a.B}});var a=n(43122)},7036:function(e,t,n){n.d(t,{E:function(){return s}});var a=n(48936),l=n(27615),r=n(8276);let s=e=>{let{id:t,name:n,type:s,preview:{width:c,height:i,url:o},inThumbnail:d=!1}=e,u=(0,r.z)(o,c,i),h=(0,l.Z)(),m=(0,a.f)({event_name:d?"similar_images_thumbnail":"similar_images",file_id:t.toString(),file_name:n,content_group2:s,search_logic_applied:"similar_images"});return async e=>{e.preventDefault(),e.stopPropagation(),m(),h(),await u(s)}}},25136:function(e,t,n){n.d(t,{X:function(){return r}});var a=n(49658),l=n(52983);let r=()=>(0,l.useCallback)(e=>{(0,a.sendGTMEvent)({event:"ga4event",event_name:"report_content",interaction_type:e.interactionType})},[])},34606:function(e,t,n){n.d(t,{B:function(){return l}});var a=n(86686);let l=e=>{let{name:t,description:n,type:l}=e;return(0,a.c)("/api/user/collections","POST",{name:t,...n&&{description:n},...l&&{type:l}})}},12289:function(e,t,n){n.d(t,{g:function(){return d},l:function(){return o}});var a=n(78511),l=n(25288),r=n(7616),s=n(52983),c=n(70831),i=n(17989);let o=e=>{let{page:t=1,resourceId:n}=e,l=(0,r.Dv)(i.GD);return(0,a.a)({queryKey:[...u,{page:t,resourceId:n,searchTerm:l}],queryFn:async()=>{let{data:e,success:a}=await (0,c.X)({page:t,resourceId:n,searchTerm:l});if(!a)throw Error(e);return e}})},d=()=>{let e=(0,l.NL)();return(0,s.useCallback)(()=>{e.invalidateQueries({queryKey:u})},[e])},u=["collections","all"]},84926:function(e,t,n){n.d(t,{X:function(){return i}});var a=n(41843),l=n(12297),r=n(24399),s=n(73139);let c=(0,r.cn)([]),i=(0,s.xu)(e=>{let{id:t,type:n}=e;return(0,r.cn)(e=>!!e(a.PQ)&&e(c).some(e=>e.id===t&&e.type===n),(e,a,l)=>{a(c,e=>l?e.filter(e=>e.id!==t):[...e,{id:t,type:n}])})},l.vZ)},63989:function(e,t,n){n.d(t,{I:function(){return r}});var a=n(7616),l=n(78272);let r=()=>(0,a.b9)(l.$)},36491:function(e,t,n){n.d(t,{g:function(){return r}});var a=n(52983),l=n(82918);let r=()=>(0,a.useContext)(l.y)},99041:function(e,t,n){n.d(t,{T:function(){return s},U:function(){return c}});var a=n(97458),l=n(52983);let r=(0,l.createContext)({isCollapsed:null}),s=e=>{let{isCollapsed:t,children:n}=e,s=(0,l.useMemo)(()=>({isCollapsed:t}),[t]);return(0,a.jsx)(r.Provider,{value:s,children:n})},c=()=>(0,l.useContext)(r)},48294:function(e,t,n){var a=n(97458);t.Z=e=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-49 141 512 512",width:16,height:16,"aria-hidden":!0,...e,children:(0,a.jsx)("path",{d:"M127 552.25a24.92 24.92 0 0 1-17.678-7.322l-101-101c-9.763-9.763-9.763-25.593 0-35.355 9.764-9.764 25.592-9.764 35.355 0l83.339 83.34 243.323-242.857c9.771-9.754 25.602-9.74 35.355.033 9.754 9.772 9.739 25.602-.033 35.355l-261 260.5A24.92 24.92 0 0 1 127 552.25"})})},44842:function(e,t,n){var a=n(97458);t.Z=e=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-49 141 512 512",width:16,height:16,"aria-hidden":!0,...e,children:(0,a.jsx)("path",{d:"m405.678 227.322-69-69A25 25 0 0 0 319 151H166c-35.841 0-65 29.159-65 65v35H66c-35.841 0-65 29.159-65 65v262c0 35.841 29.159 65 65 65h182c35.841 0 65-29.159 65-65v-35h35c35.841 0 65-29.159 65-65V245a25 25 0 0 0-7.322-17.678M263 578c0 8.271-6.729 15-15 15H66c-8.271 0-15-6.729-15-15V316c0-8.271 6.729-15 15-15h35v177c0 35.841 29.159 65 65 65h97zm85-85H166c-8.271 0-15-6.729-15-15V216c0-8.271 6.729-15 15-15h128v44c0 13.808 11.192 25 25 25h44v208c0 8.271-6.729 15-15 15"})})},76301:function(e,t,n){var a=n(97458);t.Z=e=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:16,height:16,"aria-hidden":!0,...e,children:(0,a.jsx)("path",{d:"M25 512c-13.8 0-25-11.2-25-25V87.3c0-24.1 13.3-46.1 34.6-57.5C60.3 16.3 101.4 0 151 0c40 0 77.3 10.7 113.4 21 34.3 9.8 66.6 19 99.6 19 24.2 0 48.4-5 71.9-14.8 16.9-7.1 36.2-5.3 51.5 4.9C502.8 40.3 512 57.5 512 76v229.2c0 23.7-12.9 45.6-33.7 57C453.5 375.8 413.5 392 364 392c-40 0-77.3-10.7-113.4-21-34.3-9.8-66.6-19-99.6-19-46.1 0-83.8 18.5-101 28.6V487c0 13.8-11.2 25-25 25m126-210c40 0 77.3 10.7 113.4 21 34.3 9.8 66.6 19 99.6 19 38.9 0 70.6-12.9 90.3-23.7 4.8-2.6 7.7-7.7 7.7-13.1V76c0-2.2-1.2-3.5-2.3-4.2-1.4-1-2.9-1.1-4.5-.5C425.6 83.7 394.9 90 364 90c-40 0-77.3-10.7-113.4-21-34.2-9.8-66.6-19-99.6-19-39.3 0-72.3 13.1-93 24.1-4.9 2.6-8 7.7-8 13.3v237c25-11.2 60.1-22.4 101-22.4"})})},9424:function(e,t,n){var a=n(97458);t.Z=e=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 24 24","aria-hidden":!0,...e,children:(0,a.jsx)("path",{d:"M23.531 7.266v11.812a3.05 3.05 0 0 1-3.047 3.047H3.516a3.05 3.05 0 0 1-3.047-3.047V4.922a3.05 3.05 0 0 1 3.047-3.047h3.28a3.05 3.05 0 0 1 2.966 2.344h10.722a3.05 3.05 0 0 1 3.047 3.047"})})},63457:function(e,t,n){var a=n(97458);t.Z=e=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:16,height:16,"aria-hidden":!0,...e,children:[(0,a.jsx)("path",{d:"M257.8 409.8H70c-8.3 0-15-6.7-15-15v-177h392v40c0 13.8 11.2 25 25 25s25-11.2 25-25v-115c0-35.8-29.2-65-65-65H203.3c-6.8-28.6-32.6-50-63.3-50H70c-35.8 0-65 29.2-65 65v302c0 35.8 29.2 65 65 65h187.8c13.8 0 25-11.2 25-25s-11.2-25-25-25M70 77.8h70c8.3 0 15 6.7 15 15v10c0 13.8 11.2 25 25 25h252c8.3 0 15 6.7 15 15v25H55v-75c0-8.3 6.7-15 15-15"}),(0,a.jsx)("path",{d:"M490.2 325.3c-21.2-20.8-55.4-21.3-77.2-1.2-3.5 3.2-6.5 6.8-9 10.6-2.5-3.8-5.5-7.4-9-10.6-21.8-20.1-56-19.6-77.2 1.2-22.3 21.9-22.5 57.7-.4 79.7l74 74c7 7 18.3 7 25.2 0l74-74c22-22 21.9-57.8-.4-79.7"})]})},76825:function(e,t,n){var a=n(97458);t.Z=e=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-49 141 512 512",width:16,height:16,"aria-hidden":!0,...e,children:(0,a.jsx)("path",{d:"M358 463c-27.186 0-51.738 11.481-69.071 29.847l-140.285-74.788A95 95 0 0 0 151 397c0-7.243-.818-14.298-2.361-21.081l140.285-74.772C306.257 319.516 330.811 331 358 331c52.383 0 95-42.617 95-95s-42.617-95-95-95-95 42.617-95 95c0 7.232.816 14.277 2.354 21.051L125.056 331.83C107.724 313.475 83.178 302 56 302c-52.383 0-95 42.617-95 95s42.617 95 95 95c27.186 0 51.738-11.481 69.071-29.847l140.285 74.788A95 95 0 0 0 263 558c0 52.383 42.617 95 95 95s95-42.617 95-95-42.617-95-95-95m0-272c24.813 0 45 20.187 45 45s-20.187 45-45 45-45-20.187-45-45 20.187-45 45-45M56 442c-24.813 0-45-20.187-45-45s20.187-45 45-45 45 20.187 45 45-20.187 45-45 45m302 161c-24.813 0-45-20.187-45-45s20.187-45 45-45 45 20.187 45 45-20.187 45-45 45"})})},94182:function(e,t,n){var a=n(97458);t.Z=e=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg","data-name":"Capa 1",viewBox:"0 0 23.99 24.38",width:16,height:16,"aria-hidden":!0,...e,children:[(0,a.jsx)("path",{d:"M22.82 14.89c-.65 0-1.17.52-1.17 1.17v4.33c0 .9-.74 1.64-1.64 1.64H3.98c-.44 0-.85-.17-1.16-.48s-.48-.72-.48-1.16l.02-16.03c0-.9.74-1.64 1.64-1.64h4.21c.65 0 1.17-.52 1.17-1.17S8.86.38 8.21.38H4C1.8.38.02 2.16.02 4.36L0 20.39c0 1.07.41 2.07 1.17 2.82.75.75 1.75 1.17 2.82 1.17h16.02c2.2 0 3.98-1.79 3.98-3.98v-4.33c0-.65-.52-1.17-1.17-1.17Z"}),(0,a.jsx)("path",{d:"M5.03 19.16c-.45 0-.7-.5-.4-.82l3.38-3.69c.22-.24.63-.23.83.03l1.66 2.1 3.6-3.93c.31-.34.88-.32 1.16.04l4.09 5.17c.36.46.01 1.11-.6 1.11H5.03ZM23.67 10.84l-2.1-2.1c1.63-2.46 1.07-5.81-1.32-7.61a5.61 5.61 0 0 0-7.88 1.14 5.55 5.55 0 0 0-1.06 4.17c.21 1.48.99 2.8 2.2 3.7a5.68 5.68 0 0 0 6.47.19l2.1 2.1c.22.21.5.32.79.32s.58-.11.8-.32c.43-.44.43-1.15 0-1.59m-3.04-5.19c0 2.06-1.68 3.74-3.74 3.74a3.74 3.74 0 0 1 0-7.48c2.06 0 3.74 1.68 3.74 3.74"})]})}}]);